<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeviceModelRepo. Web Resolver Sample</title>
    <style>
       body{
           font-family:monospace
       }
       .samples {
           font-size: smaller;
           color:gray
       }
       .status {
           margin: 5px;
           bottom: 10px;
           padding: 10px;
       }
       #rendered {
           width: fit-content;
           padding: 10px;
           border: gray solid 2px;

       }
    </style>
</head>

<body>
    <h4>DeviceModelRepo</h4>
    <h1>Web Resolver Sample</h1>
    <hr />
    <div id="main">
        <input type="text" id="q" size="50" value="dtmi:edu:greenlife:telescopesystemmodule;7">
        <button id="search">Resolve</button>
    </div>
    <div class="samples">
        samples <small>dtmi:azure:DeviceManagement:DeviceInformation;1 dtmi:com:example:TemperatureController;1 dtmi:my:device:model;3 </small>
    </div>
    <hr />
    <div class="repos">
        <h3>Registries</h3>
        <textarea id="repos" cols="80" rows="4">https://iotmodels.github.io/registry;
https://iotmodelsregistry.z5.web.core.windows.net;
https://contosomodels.z19.web.core.windows.net;
https://raw.githubusercontent.com/mmydland/registry/master;
        </textarea>
    </div>
    <div id="status"></div>
    <div id="rendered"></div>
    <script id="model-template" type="x-tmpl-mustache">
        
        <div class="status">{{resolveStatus}}</div>
        
        {{#Components}}
        <div>
            {{name}}  <a href="{{schemaUrl}}">{{schema}}<a>
        </div>
        <ul>
            {{#telemetry}}
            <li>t: {{name}} {{schema}}</li>
            {{/telemetry}}
            {{#properties}}
            <li>p: {{name}} {{schema}} {{writable}}</li>
            {{/properties}}
            {{#commands}}
            <li>c: {{name}}</li>
            {{/commands}}
        </ul>
        {{/Components}}
    </script>
    <script id="status-message" type="x-tmpl-mustache">
        Status: {{.}}
    </script>

    <script src="https://unpkg.com/mustache@latest"></script>
    
    <script src="index.js" type="module"></script>
    <hr />
    <div>
      Use the <a href="https://github.com/iotmodels/registry">IoTModels GitHub Repo</a> to submit new models.
    </div>
</body>

</html>
